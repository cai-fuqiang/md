## loongarch64 启动虚拟机挂死

### 问题现象

`virsh console` 链接串口后, 进入grub进入内核后，卡住不动
```
Loading Linux 6.6.0-97.0.0.102.oe2403sp2.loongarch64 ...
Loading initial ramdisk ...
PROGRESS CODE: V02010004 I0
PROGRESS CODE: V03101019 I0
```

通过`virsh qemu-monitor-command --hmp 'info registers`查看ip寄存器

```
 PC=900000000159f604  FCSR0 0x00000000
 PC=900000000159e420  FCSR0 0x00000000
 PC=900000000159f600  FCSR0 0x00000000
 PC=900000000159f5f8  FCSR0 0x00000000
 PC=900000000159e418  FCSR0 0x00000000
 PC=900000000159e420  FCSR0 0x00000000
 PC=900000000159f5f8  FCSR0 0x00000000
 PC=900000000159e438  FCSR0 0x00000000
```

似乎是卡在了一个循环中疑似`panic`

通过`crash` 查看:
```
crash> dis 900000000159f604
0x900000000159f604 <panic+820>: bnez            $s2, -12(0x7ffff4)      # 0x900000000159f5f8 <panic+808>
```

通过下面命令dump 虚拟机内存:
```
virsh dump wang --memory-only --format kdump-zlib wang.zlib
```

执行crash命令, 报下面错误.
```
crash: seek error: kernel virtual address: 90000002f0000000  type: "memory section root table"
```

## 其他信息

### xml

[wang](./wang.xml)

### 寄存器列表
```
CPU#0
 PC=900000000159e420  FCSR0 0x00000000
 GPR00: r0 0000000000000000 r1 900000000159f604 r2 90000000022f8000 r3 90000000022fbb30
 GPR04: r4 00000000000003e8 r5 90000000016fc750 r6 90000000022fbaef r7 900000000348a0c8
 GPR08: r8 9000000001a5c258 r9 90000000022fbaf8 r10 90000000022fb8b0 r11 9000000002391000
 GPR12: r12 0000000000000000 r13 0000000000000000 r14 0000001055f8306a r15 0000000000000000
 GPR16: r16 9000000002c54360 r17 00000000ffffe0b2 r18 0000000000000020 r19 0000000000000030
 GPR20: r20 000000000000002d r21 0000000000000000 r22 0000000000000800 r23 9000000003483db0
 GPR24: r24 000000302ac886d8 r25 0000000000000046 r26 0000000000000000 r27 000000302ac887a0
 GPR28: r28 0000000000038000 r29 0000000000000000 r30 0000000002000000 r31 90000000016fc000
CRMD=00000000000000b4
PRMD=0000000000000000
EUEN=0000000000000000
ESTAT=00000000000c0000
ERA=90000000015fb78c
BADV=0000000000000000
BADI=00000000002a0001
EENTRY=9000000003460000
PRCFG1=00000000000072f8, PRCFG2=000000003ffff000, PRCFG3=00000000008073f2
TLBRENTRY=000000000346a000
TLBRBADV=ffffff000220c034
TLBRERA=90000000004ea898
TCFG=0000000000000000
TVAL=0000000000000000
 f0 0000000000000000 f1 0000000000000000 f2 0000000000000000 f3 0000000000000000
 f4 0000000000000000 f5 0000000000000000 f6 0000000000000000 f7 0000000000000000
 f8 0000000000000000 f9 0000000000000000 f10 0000000000000000 f11 0000000000000000
 f12 0000000000000000 f13 0000000000000000 f14 0000000000000000 f15 0000000000000000
 f16 0000000000000000 f17 0000000000000000 f18 0000000000000000 f19 0000000000000000
 f20 0000000000000000 f21 0000000000000000 f22 0000000000000000 f23 0000000000000000
 f24 0000000000000000 f25 0000000000000000 f26 0000000000000000 f27 0000000000000000
 f28 0000000000000000 f29 0000000000000000 f30 0000000000000000 f31 0000000000000000
```
